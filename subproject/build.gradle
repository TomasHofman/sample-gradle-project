plugins {
    id 'java'
    id 'osgi'
}

sourceCompatibility = 1.8

dependencies {
    compile group: 'org.jboss.logging', name: 'jboss-logging', version: jbossLoggingVersion
    compile group: 'org.jboss.logging', name: 'jboss-logging-annotations', version: jbossLoggingAnnotationsVersion
}

jar {
    // define manifest
    manifest = osgiManifest {
        classesDir = sourceSets.main.output.classesDirs[0]
        classpath = configurations.runtime
        instruction 'Implementation-Version', version
    }

    // include pom.xml generated by maven-publish plugin
    into ("META-INF/maven/") {
        from { generatePomFileForMavenPublication }
        rename ".*", "pom.xml"
    }
}
